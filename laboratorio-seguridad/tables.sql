create table ESTUDIANTE (
CARNE INTEGER PRIMARY KEY,
PRIMER_NOMBRE VARCHAR(75 BYTE),
SEGUNDO_NOMBRE VARCHAR(75 BYTE),
PRIMER_APELLIDO VARCHAR(75 BYTE),
SEGUNDO_APELLIDO VARCHAR(75 BYTE),
FECHA_NAC DATE
);

INSERT INTO ESTUDIANTE (CARNE, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NAC) VALUES (1, 'Juan', 'Pablo', 'Gómez', 'López', TO_DATE('1990-01-15', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE (CARNE, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NAC) VALUES (2, 'Ana', 'María', 'Pérez', 'García', TO_DATE('1992-05-20', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE (CARNE, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NAC) VALUES (3, 'Carlos', 'Eduardo', 'Martínez', 'Hernández', TO_DATE('1991-03-10', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE (CARNE, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NAC) VALUES (4, 'Laura', 'Isabel', 'Ramírez', 'Torres', TO_DATE('1993-07-25', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE (CARNE, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NAC) VALUES (5, 'Luis', 'Fernando', 'García', 'Sánchez', TO_DATE('1994-11-30', 'YYYY-MM-DD'));

CREATE TABLE CURSO (
    COD_CURSO INTEGER PRIMARY KEY,
    NOM_CURSO VARCHAR2(75 BYTE),
    NUM_CREDITOS INTEGER
);

INSERT INTO CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (1, 'Programación I', 4);
INSERT INTO CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (2, 'Programación II', 4);
INSERT INTO CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (3, 'Base de Datos', 4);
INSERT INTO CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (4, 'Sistemas Operativos', 4);
INSERT INTO CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (5, 'Ingeniería de Software', 4);

INSERT INTO UMG.CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (6, 'Redes de Computadoras', 4);
INSERT INTO UMG.CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (7, 'Inteligencia Artificial', 4);
INSERT INTO UMG.CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (8, 'Desarrollo Web', 4);
INSERT INTO UMG.CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (9, 'Seguridad Informática', 4);
INSERT INTO UMG.CURSO (COD_CURSO, NOM_CURSO, NUM_CREDITOS) VALUES (10, 'Análisis de Sistemas', 4);

commit;


drop table ESTUDIANTE_CURSO;

create TABLE ESTUDIANTE_CURSO (
    ANIO INTEGER,
    SEMESTRE INTEGER, 
    COD_CURSO INTEGER,
    CARNE INTEGER,
    NOTA INTEGER,
    FECHA DATE, 
    FOREIGN KEY (COD_CURSO ) REFERENCES CURSO(COD_CURSO),
    FOREIGN KEY (CARNE ) REFERENCES ESTUDIANTE (CARNE),
    PRIMARY KEY (ANIO, SEMESTRE, COD_CURSO, CARNE)
);
INSERT INTO ESTUDIANTE_CURSO (ANIO, SEMESTER, COD_CURSO, CARNE, NOTA, FECHA) VALUES (2023, 1, 1, 1, 85, TO_DATE('2023-02-01', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE_CURSO (ANIO, SEMESTER, COD_CURSO, CARNE, NOTA, FECHA) VALUES (2023, 1, 2, 2, 90, TO_DATE('2023-02-01', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE_CURSO (ANIO, SEMESTER, COD_CURSO, CARNE, NOTA, FECHA) VALUES (2023, 1, 3, 3, 88, TO_DATE('2023-02-01', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE_CURSO (ANIO, SEMESTER, COD_CURSO, CARNE, NOTA, FECHA) VALUES (2023, 1, 4, 4, 92, TO_DATE('2023-02-01', 'YYYY-MM-DD'));
INSERT INTO ESTUDIANTE_CURSO (ANIO, SEMESTER, COD_CURSO, CARNE, NOTA, FECHA) VALUES (2023, 1, 5, 5, 87, TO_DATE('2023-02-01', 'YYYY-MM-DD'));

CREATE TABLE BITACORA (
    NUM_TRANS NUMBER(12),
    NOM_TABLA VARCHAR2(50 BYTE),
    NOM_CAMPO VARCHAR2 (50 BYTE),
    V_NUEVO VARCHAR2 (3000 BYTE),
    V_ANTERIOR VARCHAR2 (3000 BYTE),
    USR_TRANS VARCHAR2 (20 BYTE),
    FEC_TRANS DATE,
    TIPO_TRANS CHAR (1 BYTE),
    LLAVE_P VARCHAR2 (50 BYTE)
)

